@*@model IEnumerable<KGBV_JH.Models.tbl_HR>*@
@using System.Data
@using KGBV_JH.Models
@{
    dbEntities db = new dbEntities();
    DataTable dt = new DataTable();
    if (Model != null)
    {
        dt = Model;
    }
    var IsViewer = KGBV_JH.Models.CommonModel.IsRoleViewer();
}
<style>
    #ListDataTable #tbl-body tr td {
        padding: 11px 8px 0 8px !important;
    }

    .edit-icon .fa {
        font-size: 17px;
        color: #3FAEE2;
    }
</style>
<div class="table-data">
    <div class="table-responsive">
        <div id="demo-dt-basic_wrapper" class="dataTables_wrapper form-inline dt-bootstrap no-footer">
            <table id="ListDataTable" class="table table-striped table-bordered text-uppercase" width="100%">
                <thead>
                    <tr role="row">
                        <th width="25" class="text-center">Sl.No.</th>
                        <th class="text-center">Year</th>
                        <th class="text-center">Quarterly</th>
                        <th class="text-center">District</th>
                        <th class="text-center">Block</th>
                        <th class="text-center">School</th>
                        <th class="text-center">Reported By</th>
                        <th class="text-center">Reported Date</th>
                        @if (!IsViewer)
                        {
                            <th class="text-center">Modify</th>
                        }
                        <th class="text-center">View Data</th>
                    </tr>
                </thead>
                <tbody id="tbl-body">
                    @{
                        if (dt.Rows.Count > 0)
                        {
                            var sno = 1;
                            foreach (DataRow dr in dt.Rows)
                            {
                                <tr>
                                    <td class="text-center">@(sno++)</td>
                                    <td class="text-center">@dr["FinancialYear"]</td>
                                    <td>
                                        <span class="text-center d-block badge bg-info" title="Quarterly"><strong class="text-center">@dr["Quarterly"]</strong></span>
                                    </td>
                                    <td class="text-left">@dr["DistrictName"]</td>
                                    <td class="text-left">@dr["Block"]</td>
                                    <td class="text-left">@dr["SchoolName"]</td>
                                    <td class="text-left">@dr["ReportedBy"]</td>
                                    <td class="text-center">
                                        <span class="text-center d-block badge bg-info"><strong class="text-center">@dr["RDate"]</strong></span>
                                    </td>
                                    @if (!IsViewer)
                                    {
                                        <td class="text-center">
                                            <a title="Edit" href="~/HR/Add?Id=@dr["ID"]" class="btn btn-info btn-sm">Edit <i class="fa fa-edit"></i></a>
                                        </td>
                                    }
                                    <td class="text-center">
                                        <a title="View Data" href="javascript:void(0);" onclick="Display('@dr["ID"]')" class="btn btn-info btn-sm">View <i class="fa fa-street-view"></i></a>
                                    </td>
                                </tr>
                            }
                        }
                        else
                        {
                            <tr><td colspan="10" class="text-danger"><strong> Record Not Found !!</strong></td></tr>
                        }
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>

<script>
    $(function () {
        $("#ListDataTable").DataTable();
    });
</script>